<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body class="darkMode">
    <div th:insert="~{fragments :: themeSwitcher}"></div>
    <h1 class="header-title">Change Password</h1>
    <div class="form-div center-form">
        <div th:if="${param.currentPasswordError}">
            Invalid current password.
        </div>
        <div th:if="${param.passwordDontMatchError}">
            Passwords do not match.
        </div>
        <div th:if="${param.samePasswordError}">
            New password cannot be the same as the current password.
        </div>
        <div th:if="${param.userError}">
            User not found.
        </div>
        <form th:action="@{/changePassword}" method="post">
            <div th:if="${username != null}">
                <input type="hidden" name="username" th:value="${username}" readonly/>
            </div>
            <div th:if="${username == null}">
                <input name="username" placeholder="Username" required/>
            </div>
            <div class="form-group">
                <label>Current Password:</label>
                <input type="password" name="currentPassword" autocomplete="current-password"/>
            </div>
            <div class="form-group">
                <label>New Password:</label>
                <input type="password" name="newPassword" autocomplete="new-password"/>
            </div>
            <div class="form-group">
                <label>Confirm New Password:</label>
                <input type="password" name="confirmPassword" autocomplete="new-password"/>
            </div>
            <button type="submit" class="submit-button">Change Password</button>
        </form>
    </div>
</body>
</html>